<div class="banner-wrapper group">
    <div class="banner-aspect">
        <div class="banner-container">
            @if (banners().length > 0) {
            @for (banner of banners(); track banner.id; let i = $index) {
            <div class="slide" [class.active]="currentIndex() === i">
                @if (banner.linkUrl) {
                <a [href]="banner.linkUrl" target="_blank" rel="noopener" class="banner-link">
                    <img [ngSrc]="backendUrl + '/' + (isDesktop() ? (banner.imageDesktop || banner.imageMobile) : (banner.imageMobile || banner.imageDesktop))"
                        fill [alt]="banner.title" [priority]="i === 0" [loading]="i === 0 ? undefined : 'lazy'"
                        class="banner-img" ngSkipSizeCheck />
                </a>
                } @else {
                <div class="banner-link">
                    <img [ngSrc]="backendUrl + '/' + (isDesktop() ? (banner.imageDesktop || banner.imageMobile) : (banner.imageMobile || banner.imageDesktop))"
                        fill [alt]="banner.title" [priority]="i === 0" [loading]="i === 0 ? undefined : 'lazy'"
                        class="banner-img" ngSkipSizeCheck />
                </div>
                }
            </div>
            }
            } @else {
            <div class="w-full h-full bg-slate-100 animate-pulse flex items-center justify-center">
                <div class="text-slate-300">
                    <svg class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                </div>
            </div>
            }
        </div>
    </div>

    @if (banners().length > 1) {
    <button (click)="prev()"
        class="absolute cursor-pointer hover:bg-pink-500 transition-all duration-300 left-8 top-62 -translate-y-1/2 w-10 h-10 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white opacity-0 group-hover:opacity-100 z-20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
        </svg>
    </button>

    <button (click)="next()"
        class="absolute cursor-pointer hover:bg-pink-500 transition-all duration-300 right-8 top-62 -translate-y-1/2 w-10 h-10 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white opacity-0 group-hover:opacity-100 z-20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="m8.59 16.59 1.41 1.41 6-6-6-6-1.41 1.41L13.17 12z" />
        </svg>
    </button>

    <div class="absolute bottom-6  left-1/2 -translate-x-1/2 flex gap-2 z-20">
        @for (banner of banners(); track banner.id; let i = $index) {
        <button (click)="goTo(i)" class="h-2.5 rounded-full cursor-pointer transition-all duration-300"
            [class]="currentIndex() === i ? 'bg-white w-8' : 'bg-white/40 hover:bg-white/60 w-2.5'">
        </button>
        }
    </div>
    }

    <app-trust-info />
</div>